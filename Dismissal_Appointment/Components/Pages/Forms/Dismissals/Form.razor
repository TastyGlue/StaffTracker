@inherits FormBase<Dismissal>

<EditForm Model="@Model" OnValidSubmit="@((args) => OnValidSubmit.InvokeAsync())">
    <FluentValidator />

    <div style="max-width: 1200px; margin: 0 auto;">
        <MudGrid Class="form-grid" Style="justify-content: space-evenly !important" Spacing="3">

            <!-- Left Column -->
            <MudItem xs="12" md="6"
                     Style="flex-basis: 49%; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; padding-left: 0;">

                <!-- Entry Date & Company Information Card -->
                <MudPaper Elevation="1" Class="pa-3 mb-3">
                    <MudText Typo="Typo.h6" Class="mb-3" Style="color: #1976d2; font-weight: 500; font-size: 1rem;">
                        @Localizer["Entry Date"]
                    </MudText>
                    <MudDatePicker Label="@Localizer["Entry Date"]"
                                   @bind-Date="@Model.EntryDate"
                                   For="@(() => Model.EntryDate)"
                                   Mask="@(new DateMask("dd.MM.yyyy"))"
                                   DateFormat="dd.MM.yyyy"
                                   Editable="true"
                                   Variant="Variant.Text"
                                   Margin="Margin.Dense"
                                   Class="mb-2 required-field" />
                </MudPaper>

                <MudPaper Elevation="1" Class="pa-3 mb-3">
                    <MudText Typo="Typo.h6" Class="mb-2" Style="color: #1976d2; font-weight: 500; font-size: 1rem;">
                        @Localizer["Company Information"]
                    </MudText>
                    <MudTextField Label="@Localizer["Company Name"]"
                                  @bind-Value="@Model.CompanyName"
                                  For="@(() => Model.CompanyName)"
                                  Variant="Variant.Text"
                                  Margin="Margin.Dense"
                                  Class="mb-2 required-field" />
                    <MudTextField Label="@Localizer["Division"]"
                                  @bind-Value="@Model.Division"
                                  For="@(() => Model.Division)"
                                  Variant="Variant.Text"
                                  Margin="Margin.Dense" />
                </MudPaper>

                <!-- Personal Information Card -->
                <MudPaper Elevation="1" Class="pa-3 mb-3">
                    <MudText Typo="Typo.h6" Class="mb-2" Style="color: #1976d2; font-weight: 500; font-size: 1rem;">
                        @Localizer["Personal Information"]
                    </MudText>
                    <MudTextField Label="@Localizer["IDN"]"
                                  @bind-Value="@Model.IDN"
                                  For="@(() => Model.IDN)"
                                  Variant="Variant.Text"
                                  Margin="Margin.Dense"
                                  Class="mb-2 required-field" />
                    <MudTextField Label="@Localizer["First Name"]"
                                  @bind-Value="@Model.FirstName"
                                  For="@(() => Model.FirstName)"
                                  Variant="Variant.Text"
                                  Margin="Margin.Dense"
                                  Class="mb-2 required-field" />
                    <MudTextField Label="@Localizer["Second Name"]"
                                  @bind-Value="@Model.SecondName"
                                  For="@(() => Model.SecondName)"
                                  Variant="Variant.Text"
                                  Margin="Margin.Dense"
                                  Class="mb-2" />
                    <MudTextField Label="@Localizer["Surname"]"
                                  @bind-Value="@Model.Surname"
                                  For="@(() => Model.Surname)"
                                  Variant="Variant.Text"
                                  Margin="Margin.Dense"
                                  Class="required-field" />
                </MudPaper>

            </MudItem>

            <!-- Right Column -->
            <MudItem xs="12" md="6"
                     Style="flex-basis: 49%; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; padding-left: 0;">

                <MudPaper Elevation="1" Class="pa-3 mb-3">
                    <MudText Typo="Typo.h6" Class="mb-2" Style="color: #1976d2; font-weight: 500; font-size: 1rem;">
                        @Localizer["Considered From Date"]
                    </MudText>
                    <MudDatePicker Label="@Localizer["Considered From Date"]"
                                   @bind-Date="@Model.ConsideredFromDate"
                                   For="@(() => Model.ConsideredFromDate)"
                                   Mask="@(new DateMask("dd.MM.yyyy"))"
                                   DateFormat="dd.MM.yyyy"
                                   Editable="true"
                                   Variant="Variant.Text"
                                   Margin="Margin.Dense"
                                   Class="mb-2 required-field" />
                </MudPaper>

                <MudPaper Elevation="1" Class="pa-3 mb-3">
                    <MudText Typo="Typo.h6" Class="mb-2" Style="color: #1976d2; font-weight: 500; font-size: 1rem;">
                        @Localizer["Dismissal Details"]
                    </MudText>
                    <MudText Typo="Typo.body2" Style="font-weight: 500;">
                        @Localizer["Labour Code Article"]
                    </MudText>
                    <MudGrid Spacing="2">
                        <MudItem xs="4">
                            <MudNumericField Label="@Localizer["Art."]"
                                             @bind-Value="@Model.LabourCodeArticle"
                                             For="@(() => Model.LabourCodeArticle)"
                                             Variant="Variant.Text"
                                             Margin="Margin.Dense"
                                             Min="1"
                                             Max="999"
                                             T="int"
                                             Class="required-field" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudNumericField Label="@Localizer["para."]"
                                             @bind-Value="@Model.LabourCodeParagraph"
                                             For="@(() => Model.LabourCodeParagraph)"
                                             Clearable="true"
                                             Variant="Variant.Text"
                                             Margin="Margin.Dense"
                                             Min="1"
                                             Max="999"
                                             T="int?" />
                        </MudItem>
                        <MudItem xs="4">
                            <MudNumericField Label="@Localizer["item"]"
                                             @bind-Value="@Model.LabourCodeItem"
                                             For="@(() => Model.LabourCodeItem)"
                                             Clearable="true"
                                             Variant="Variant.Text"
                                             Margin="Margin.Dense"
                                             Min="1"
                                             Max="999"
                                             T="int?" />
                        </MudItem>
                    </MudGrid>
                    <MudNumericField Label="@Localizer["Compensation Days"]"
                                     @bind-Value="@Model.CompensationDays"
                                     For="@(() => Model.CompensationDays)"
                                     Clearable="true"
                                     Variant="Variant.Text"
                                     Margin="Margin.Dense"
                                     Min="0"
                                     T="int?" />
                    <MudSelect Label="@Localizer["Garnishment"]"
                               @bind-Value="Model.Garnishment" 
                               Clearable="true">
                        <MudSelectItem T="bool?" Value="true">@Localizer["Yes"]</MudSelectItem>
                        <MudSelectItem T="bool?" Value="false">@Localizer["No"]</MudSelectItem>
                    </MudSelect>
                    <MudNumericField Label="@Localizer["Leave Last Month"]"
                                     @bind-Value="@Model.LeaveLastMonthDays"
                                     For="@(() => Model.LeaveLastMonthDays)"
                                     Clearable="true"
                                     Variant="Variant.Text"
                                     Margin="Margin.Dense"
                                     Min="0"
                                     Max="99"
                                     T="int?" />
                </MudPaper>

                <MudPaper Elevation="1" Class="pa-3 mb-3 single-item-paper">
                    <MudText Typo="Typo.h6" Style="color: #1976d2; font-weight: 500; font-size: 1rem;">
                        @Localizer["Is NRA Confirmed"]
                    </MudText>
                    <MudCheckBox @bind-Value="Model.IsNRAConfirmed"
                                 Color="Color.Primary"
                                 Class="form-checkbox" />
                </MudPaper>

            </MudItem>

            <div class="d-flex" style="justify-content: space-between; width: 100%;">
                <div>
                    <MudButton ButtonType="ButtonType.Submit"
                               Variant="Variant.Filled"
                               Color="Color.Primary"
                               StartIcon="@Icons.Material.Filled.Save">
                        @Localizer["Save"]
                    </MudButton>
                    <MudButton Variant="Variant.Text"
                               Color="Color.Default"
                               OnClick="@CancelHandler">
                        @Localizer["Cancel"]
                    </MudButton>
                </div>
                @if (!IsCreate)
                {
                    <MudButton Variant="Variant.Filled"
                               Color="Color.Error"
                               Disabled="@IsCreate"
                               OnClick="@OnDelete"
                               StartIcon="@Icons.Material.Filled.Delete">
                        @Localizer["Delete"]
                    </MudButton>
                }
            </div>
        </MudGrid>
    </div>
</EditForm>